R="[1;31m";G="[1;32m";Y="[1;33m";C="[1;36m";B="[1;m";O="[m";abort(){ echo "
$R! $@$O";exit 1;};echo "$B*************************
$R Shell$Y Script$G Pack$C Tools$O
*************************
    ${G}é…·å®‰ï¼š${C}æ—¶é›¨ä¸¶æ˜Ÿç©º$O";[ -d "${1}Pack" ]&&[ -f "${1}Pack.sh" ]&&INPUT="$(realpath "$1")"||abort "è¾“å…¥æ–‡ä»¶ä¸å­˜åœ¨";[ -n "$2" ]&&OUTPUT="$(realpath "$2")"&&DIROUTPUT="$(dirname "$OUTPUT")"&&BASEOUTPUT="$(basename "$OUTPUT")"||abort "è¾“å‡ºæ–‡ä»¶ä¸å­˜åœ¨";command -v shc>/dev/null||abort "shcç¼–è¯‘å™¨ä¸å­˜åœ¨";echo "
$Y- æ­£åœ¨ä½¿ç”¨shcç¼–è¯‘è„šæœ¬$O
";shc -vrf "${1}Pack.sh"&&shc -vrf "${1}Control.sh"||abort "è„šæœ¬ç¼–è¯‘å¤±è´¥";echo "
$Y- æ­£åœ¨æ‰“åŒ…ä¸ºè‡ªé‡Šæ”¾è„šæœ¬$O
";echo '#è„šæœ¬å·²ç»è¿‡ç¼–è¯‘ï¼Œéœ€è¦æºä»£ç è¯·è”ç³»ä½œè€…ï¼šæ—¶é›¨ä¸¶æ˜Ÿç©º
if [ "$(id -u)" != 0 ];then echo "'"$Y"'- æ­£åœ¨è·å–rootæƒé™'"$O"'";su -c "sh \"$0\" \"$1\" \"$2\" \"$3\"";exit;fi;PATH="$PATH:/system/bin:/data/adb/magisk:$(magisk --path)/.magisk/busybox";FILE="$(realpath "$0")";EXEC="/data/adb/TimeRainStarSky/'"${BASEOUTPUT}Pack.sh"'.x";abort(){ echo "'"$R"'! $@'"$O"'";exit 1;};cd "$(dirname "$FILE")"||abort "åˆ‡æ¢åˆ°è„šæœ¬ç›®å½•å¤±è´¥";output_file(){ echo "'"$Y"'- æ­£åœ¨é‡Šæ”¾è„šæœ¬'"$O"'";mkdir -p "$(dirname "$EXEC")";tail -n "+$(awk "/$(base64 -d<<<"5a6a5L2N56ym")/{print NR+1}" "$FILE"|head -n 1)" "$FILE"|xzcat>"$EXEC"||abort "è„šæœ¬é‡Šæ”¾å¤±è´¥";chmod 555 "$EXEC"||abort "è„šæœ¬æƒé™ä¿®æ”¹å¤±è´¥";OUTPUT=1;};check_exec(){ if [ -x "$EXEC" ]&&[ "$(md5sum "$EXEC"|head -c 32)" = "'"$(md5sum "${INPUT}Pack.sh.x"|head -c 32)"'" ];then echo "'"$G"'- è„šæœ¬æ ¡éªŒæˆåŠŸï¼Œå¼€å§‹æ‰§è¡Œ'"$O"'";"$EXEC" "$@"||abort "è„šæœ¬æ‰§è¡Œå¤±è´¥";elif [ -z "$OUTPUT" ];then output_file;check_exec "$@";else abort "è„šæœ¬é‡Šæ”¾å¤±è´¥";fi;};check_exec "$@";exit;å®šä½ç¬¦'>"${OUTPUT}Pack.sh"||abort "è„šæœ¬æ‰“åŒ…å¤±è´¥";xz -9ce "${INPUT}Pack.sh.x">>"${OUTPUT}Pack.sh"||abort "è„šæœ¬æ‰“åŒ…å¤±è´¥";echo '#è„šæœ¬å·²ç»è¿‡ç¼–è¯‘ï¼Œéœ€è¦æºä»£ç è¯·è”ç³»ä½œè€…ï¼šæ—¶é›¨ä¸¶æ˜Ÿç©º
if [ "$(id -u)" != 0 ];then echo "'"$Y"'- æ­£åœ¨è·å–rootæƒé™'"$O"'";su -c "sh \"$0\" \"$1\" \"$2\" \"$3\"";exit;fi;PATH="$PATH:/system/bin:/data/adb/magisk:$(magisk --path)/.magisk/busybox";FILE="$(realpath "$0")";EXEC="/data/adb/TimeRainStarSky/'"${BASEOUTPUT}Control.sh"'.x";abort(){ echo "'"$R"'! $@'"$O"'";exit 1;};cd "$(dirname "$FILE")"||abort "åˆ‡æ¢åˆ°è„šæœ¬ç›®å½•å¤±è´¥";output_file(){ echo "'"$Y"'- æ­£åœ¨é‡Šæ”¾è„šæœ¬'"$O"'";mkdir -p "$(dirname "$EXEC")";tail -n "+$(awk "/$(base64 -d<<<"5a6a5L2N56ym")/{print NR+1}" "$FILE"|head -n 1)" "$FILE"|xzcat>"$EXEC"||abort "è„šæœ¬é‡Šæ”¾å¤±è´¥";chmod 555 "$EXEC"||abort "è„šæœ¬æƒé™ä¿®æ”¹å¤±è´¥";OUTPUT=1;};check_exec(){ if [ -x "$EXEC" ]&&[ "$(md5sum "$EXEC"|head -c 32)" = "'"$(md5sum "${INPUT}Control.sh.x"|head -c 32)"'" ];then echo "'"$G"'- è„šæœ¬æ ¡éªŒæˆåŠŸï¼Œå¼€å§‹æ‰§è¡Œ'"$O"'";"$EXEC" "$@"||abort "è„šæœ¬æ‰§è¡Œå¤±è´¥";elif [ -z "$OUTPUT" ];then output_file;check_exec "$@";else abort "è„šæœ¬é‡Šæ”¾å¤±è´¥";fi;};check_exec "$@";exit;å®šä½ç¬¦'>"${OUTPUT}Control.sh"||abort "è„šæœ¬æ‰“åŒ…å¤±è´¥";xz -9ce "${INPUT}Control.sh.x">>"${OUTPUT}Control.sh"||abort "è„šæœ¬æ‰“åŒ…å¤±è´¥";echo '#è„šæœ¬å·²ç»è¿‡ç¼–è¯‘ï¼Œéœ€è¦æºä»£ç è¯·è”ç³»ä½œè€…ï¼šæ—¶é›¨ä¸¶æ˜Ÿç©º
if [ "$(id -u)" != 0 ];then echo "'"$Y"'- æ­£åœ¨è·å–rootæƒé™'"$O"'";su -c "sh \"$0\" \"$1\" \"$2\" \"$3\"";exit;fi;PATH="/system/bin:/data/adb/magisk:$(magisk --path)/.magisk/busybox:$PATH";FILE="$(realpath "$0")";DIR="/data/adb/TimeRainStarSky";EXEC="$DIR/'"${BASEOUTPUT}Pack.sh"'.x";abort(){ echo "'"$R"'! $@'"$O"'";exit 1;};cd "$(dirname "$FILE")"||abort "åˆ‡æ¢åˆ°è„šæœ¬ç›®å½•å¤±è´¥";output_file(){ echo "'"$Y"'- æ­£åœ¨é‡Šæ”¾è„šæœ¬'"$O"'";mkdir -p "$DIR";tail -n "+$(awk "/$(base64 -d<<<"5a6a5L2N56ym")/{print NR+1}" "$FILE"|head -n 1)" "$FILE"|xzcat|tar -xvC "$DIR"||abort "è„šæœ¬é‡Šæ”¾å¤±è´¥";OUTPUT=1;};check_exec(){ if [ -x "$EXEC" ]&&[ "$(md5sum "$EXEC"|head -c 32)" = "'"$(md5sum "${INPUT}Pack.sh.x"|head -c 32)"'" ];then echo "'"$G"'- è„šæœ¬æ ¡éªŒæˆåŠŸï¼Œå¼€å§‹æ‰§è¡Œ'"$O"'";PATH="$DIR:$PATH";export LD_LIBRARY_PATH="$DIR";"$EXEC" "$@"||abort "è„šæœ¬æ‰§è¡Œå¤±è´¥";elif [ -z "$OUTPUT" ];then output_file;check_exec "$@";else abort "è„šæœ¬é‡Šæ”¾å¤±è´¥";fi;};check_exec "$@";exit;å®šä½ç¬¦'>"${OUTPUT}Pack_Standalone.sh"||abort "è„šæœ¬æ‰“åŒ…å¤±è´¥";mv -f "${INPUT}Pack.sh.x" "${INPUT}Pack";cd "${INPUT}Pack";tar -cvJ *>>"${OUTPUT}Pack_Standalone.sh"||abort "è„šæœ¬æ‰“åŒ…å¤±è´¥";cd "$DIROUTPUT";echo '#è„šæœ¬å·²ç»è¿‡ç¼–è¯‘ï¼Œéœ€è¦æºä»£ç è¯·è”ç³»ä½œè€…ï¼šæ—¶é›¨ä¸¶æ˜Ÿç©º
if [ "$(id -u)" != 0 ];then echo "'"$Y"'- æ­£åœ¨è·å–rootæƒé™'"$O"'";su -c "sh \"$0\" \"$1\" \"$2\" \"$3\"";exit;fi;PATH="/system/bin:/data/adb/magisk:$(magisk --path)/.magisk/busybox:$PATH";DIR="$(dirname "$0")";abort(){ echo "'"$R"'! $@'"$O"'";exit 1;};echo "'"$Y"'- æ­£åœ¨é‡Šæ”¾è„šæœ¬'"$O"'";for i in "'"${BASEOUTPUT}Pack.sh"'" "'"${BASEOUTPUT}Pack_Standalone.sh"'" "'"${BASEOUTPUT}Control.sh"'";do if [ -f "$DIR/$i" ];then mv "$DIR/$i" "$DIR/$i.bak"||abort "é‡å‘½ååŸè„šæœ¬å¤±è´¥";fi;done;tail -n "+$(awk "/$(base64 -d<<<"5a6a5L2N56ym")/{print NR+1}" "$0"|head -n 1)" "$0"|xzcat|tar -xvC "$DIR"||abort "è„šæœ¬é‡Šæ”¾å¤±è´¥";rm -rf "$0"||abort "åˆ é™¤é‡Šæ”¾è„šæœ¬å¤±è´¥";echo "'"$G"'- è„šæœ¬é‡Šæ”¾å®Œæˆ'"$O"'";exit;å®šä½ç¬¦'>"${OUTPUT}Extract.sh"||abort "è„šæœ¬æ‰“åŒ…å¤±è´¥";tar -cvJ "${BASEOUTPUT}Pack.sh" "${BASEOUTPUT}Pack_Standalone.sh" "${BASEOUTPUT}Control.sh">>"${OUTPUT}Extract.sh";echo -n "$(cat "${INPUT}Pack.sh"|sed -n 2p|tr "[A-Z]" "[a-z]"|tr ";" "\n")
md5=$(md5sum "${OUTPUT}Extract.sh"|head -c 32)">"$DIROUTPUT/version"||abort "è„šæœ¬ç‰ˆæœ¬æ–‡ä»¶ç”Ÿæˆå¤±è´¥";echo;cat "$DIROUTPUT/version"||abort "è„šæœ¬ç‰ˆæœ¬æ–‡ä»¶ç”Ÿæˆå¤±è´¥";echo "

$G- æ‰“åŒ…å®Œæˆ$O"